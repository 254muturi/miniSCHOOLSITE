{% extends "base.html" %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FADHILI SHOP PRODUCTS</title>
</head>
<body>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul class="flash">
        {% for message in messages %}
        <div class="alert alert-info alert-dismissible fade show" role="alert">
            {{ message }}
            <button role="button" tabindex="0" type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}

    <h2>FADHILI SHOP PRODUCTS</h2>
    <br/>

    <div>
        <form action="" method="POST">
            {{ form.csrf_token }}
            <div class="form-group">
                {{ form.title.label(class="form-label") }}
                {{ form.title(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.quantity.label(class="form-label") }}
                {{ form.quantity(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.pages.label(class="form-label") }}
                {{ form.pages(class="form-control") }}
            </div>
            <!-- Product price -->
            <div class="form-group">
                {{ form.price.label(class="form-label") }}
                {{ form.price(class="form-control") }}
            </div>
            <!-- Product description -->
            <div class="form-group">
                {{ form.description.label(class="form-label") }}
                {{ form.description(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.image_url.label(class="form-label") }}
                {{ form.image_url(class="form-control") }}
            </div>
            <br>
            {{ form.submit(class="btn btn-secondary") }}
        </form>
    </div>

    <!-- Add some spacing here if needed -->
    <br>
    <br>
    <br>
    <br>
    <br>

    <h2>All PRODUCTS Details</h2>
    <div class="form-group">
        <input type="text" class="form-control" id="searchInput" placeholder="Search for a PRODUCT">
    </div>



<table class="table table-hover table-bordered table-striped">
    <thead>
    <tr>
        <th scope="col">Product ID</th>
        <th scope="col">Product Name</th>
        <th scope="col">Product Quantity</th>
        <th scope="col">Product Price</th>
        <th scope="col">Product Description</th>
        <th scope="col">Product Image</th>
        <th scope="col">Action</th>
    </tr>
    </thead>
    <tbody>
    {% for our_product in our_products %}
    <!-- Inside the loop for displaying products -->
    <tr>
        <td>{{ our_product.id }}</td>
        <td>{{ our_product.title }}</td>
        <td>
            <a href="{{ url_for('update_product', id=our_product.id) }}">
                {{ our_product.pages }}
            </a>
        </td>
        <td>{{ our_product.price }}</td>
        <td>{{ our_product.description }}</td>
        <td></td> <!-- Empty cell for spacing -->
        <td></td> <!-- Empty cell for spacing -->
        <td>
            <form action="{{ url_for('delete_product', id=our_product.id) }}" method="post"
                onsubmit="return confirm('Are you sure you want to delete this product?');">
                <button type="submit" class="btn btn-danger">Delete</button>
            </form>
        </td>
        <td>
            <a href="{{ url_for('update_product', id=our_product.id) }}" class="btn btn-primary">Update</a>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>




<script src="javaScript.js">
</script>

</body>
</html>
{% endblock %}
